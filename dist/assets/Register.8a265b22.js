import{r as c,l as e,J as s,Z as N,B as b,ac as i}from"./index.f7de6b0e.js";import{p as v,R as C,d as t,L as d,I as P,e as k}from"./App.9d3e290b.js";import{C as T}from"./CardText.0d7e68f8.js";import{C as O}from"./CardTitle.efab52e5.js";import{F as S}from"./page-authentication.51bbff14.js";const D=()=>{const{skin:m}=v(),g=m==="dark"?"register-v2-dark.svg":"register-v2.svg",p=require(`@src/assets/images/pages/${g}`).default,h=require("@src/assets/images/logo/logo.jpeg").default,[l,u]=c.exports.useState(""),[o,w]=c.exports.useState(""),n=a=>{switch(a.target.name){case"OtpCode":u(a.target.value);break;case"newPassword":w(a.target.value);break}};return e("div",{className:"auth-wrapper auth-cover",children:s(C,{className:"auth-inner m-0",children:[s(N,{className:"brand-logo",to:"/",onClick:a=>a.preventDefault(),children:[e("img",{src:h,alt:"Logo",style:{width:"5%",marginTop:"-20px"}}),e("h2",{className:"brand-text text-primary ms-1",children:"FSM"})]}),e(t,{className:"d-none d-lg-flex align-items-center p-5",lg:"8",sm:"12",children:e("div",{className:"w-100 d-lg-flex align-items-center justify-content-center px-5",children:e("img",{className:"img-fluid",src:p,alt:"Login Cover"})})}),e(t,{className:"d-flex align-items-center auth-bg px-2 p-lg-5",lg:"4",sm:"12",children:s(t,{className:"px-xl-2 mx-auto",xs:"12",sm:"8",md:"6",lg:"12",children:[e(O,{tag:"h3",className:"fw-bold mb-1 text-nowrap",children:"Faecal Sludge Management"}),e(T,{className:"mb-2",children:"We sent the OTP code to your email Please enter OTP below and set new password"}),s(S,{className:"auth-register-form mt-2",children:[s("div",{className:"mb-1",children:[e(d,{className:"form-label",for:"otpCode",children:"OTP"}),e(P,{type:"number",id:"otpCode",placeholder:"Enter OTP",autoFocus:!0,name:"OtpCode",onChange:a=>n(a),value:l})]}),s("div",{className:"mb-1",children:[e(d,{className:"form-label",for:"new-password",children:"New Password"}),e(k,{className:"input-group-merge",id:"new-password",onChange:a=>n(a),name:"newPassword",value:o})]}),e(b,{color:"primary",block:!0,onClick:()=>{const f={email:localStorage.getItem("OTPEmail"),password:o,otp:l},x="/user/update_password";axios.patch(x,f).then(r=>{console.log(r),new i({icon:"success",title:"Password Updated!!"}),localStorage.removeItem("OTPEmail"),window.location.href="/login"}).catch(r=>{new i({icon:"warning",title:r.response.data.error[0].message})})},children:"Submit"})]}),e("p",{className:"text-center mt-2",children:s("span",{className:"float-md-start d-block d-md-inline-block mt-25",children:["\xA9 ",new Date().getFullYear()," ",e("a",{href:"https://transerve.com/",target:"_blank",rel:"noopener noreferrer",children:"Transerve"}),e("span",{className:"d-none d-sm-inline-block",children:", All rights Reserved"})]})})]})})]})})};export{D as default};
